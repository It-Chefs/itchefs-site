<!-- üç≥ Agogy Gold Banner -->
<div class="agogy-bar">
  üç≥ Chef Avian & Skunkah Kitchen ¬∑ <em>Agogy Gold Edition 2025</em>
</div>

<!-- üçØ Load Agogy Styles -->
<link rel="stylesheet" href="{{ '/assets/css/custom.css' | relative_url }}">

<!-- ‚öôÔ∏è Agogy Reflex Injectors -->
<script>
document.addEventListener('DOMContentLoaded', function () {

  /* === Footer Injector === */
  var f = document.querySelector('.site-footer');
  if (f) {
    f.innerHTML = `
      <div class="ag-footer">
        <span>¬© ${new Date().getFullYear()} IT Chefs Studios ‚Äî <strong>Agogy Gold Edition</strong></span>
        ¬∑ <a href="https://github.com/It-Chefs/itchefs-site">GitHub</a>
        ¬∑ <a href="https://github.com/It-Chefs/itchefs-site/blob/main/LICENSE">License</a>
      </div>
    `;
  }

  /* === Top Navigation Injector (Docs-Friendly) === */
  var header = document.querySelector('.page-header');
  if (header) {
    var base = '{{ site.baseurl | default: "" }}';
    var docsBase = base + '/docs';

    var links = [
      { href: docsBase + '/',              label: 'Home' },
      { href: docsBase + '/kitchen/',      label: 'Briefs' },
      { href: docsBase + '/automation/',   label: 'Playbooks' },
      { href: docsBase + '/branding/',     label: 'Branding' },
      { href: docsBase + '/tests/',        label: 'Tests' }
    ];

    var nav = document.createElement('nav');
    nav.className = 'ag-nav';
    nav.innerHTML = links.map(function (i) {
      return '<a href="' + i.href + '">' + i.label + '</a>';
    }).join('');

    header.insertAdjacentElement('beforebegin', nav);

    // Highlight active page
    var here = location.pathname;
    Array.from(nav.querySelectorAll('a')).forEach(function(a){
      try {
        var ap = new URL(a.href, location.origin).pathname;
        if (here === ap || (ap !== docsBase + '/' && here.startsWith(ap))) {
          a.classList.add('active');
        }
      } catch(e) {}
    });
  }

  /* === Motion Suite: Shimmer + Ambient + Pulse === */
  var hero = document.querySelector('.page-header');
  if (hero) {
    hero.classList.add('ag-ambient');
    var name = hero.querySelector('.project-name');
    var tag  = hero.querySelector('.project-tagline');
    if (name) name.classList.add('ag-shimmer');
    if (tag)  tag.classList.add('ag-shimmer');
  }

  // Banner ‚Äúbreathe‚Äù animation
  var bar = document.querySelector('.agogy-bar');
  if (bar) bar.classList.add('ag-breathe');

  // CTA pulse
  var cta = document.querySelector('.btn');
  if (cta) cta.classList.add('ag-pulse');

});
</script>
